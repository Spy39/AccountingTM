@{
	ViewData["Title"] = "Расходные материалы";
	Layout = "~/Views/Shared/Layout/_Layout.cshtml";
}

@section LeftNavbar {
	<ol class="breadcrumb float-sm-right m-0 bg-white">
		<li class="breadcrumb-item"><a asp-controller="TechnicalEquipment" asp-action="Index">Главная</a></li>
		<li class="breadcrumb-item active">Расходные материалы</li>
	</ol>
}

<section class="content-header">
	<div class="container-fluid">
		<div class="row mb-2">
			<div class="col-sm-6">
				<h1><i class="fa-solid fa-boxes-stacked me-2"></i> Расходные материалы</h1>
			</div>
		</div>
	</div>
</section>

<div class="container-fluid shadow-sm p-3 mb-3 bg-body-tertiary rounded">
	<div class="row align-items-center">
		<!-- Поле поиска (вернул прошлый размер) -->
		<div class="col-md-3 col-sm-12 mb-2">
			<div class="input-group">
				<input id="search-input" type="search" class="form-control" placeholder="Поиск..." aria-label="Поиск">
				<button class="btn btn-outline-secondary" type="button" id="searchConsumableBtn">
					<i class="fas fa-search"></i>
				</button>
			</div>
		</div>

		<!-- Кнопки действий -->
		<div class="col-md-9 col-sm-12 d-flex justify-content-md-end justify-content-start gap-2 flex-wrap">
			<button class="btn btn-outline-primary d-flex align-items-center gap-2" data-bs-toggle="modal" data-bs-target="#create">
				<i class="fa-solid fa-plus"></i> <span>Создать</span>
			</button>

			<!-- Выпадающий фильтр -->
			<div class="dropdown">
				<button class="btn btn-outline-secondary dropdown-toggle" type="button" id="btnGroupDrop1" data-bs-toggle="dropdown" aria-expanded="false">
					<i class="fa-solid fa-filter"></i> Фильтр
				</button>
				<ul class="dropdown-menu" aria-labelledby="btnGroupDrop1">
					<li><a class="dropdown-item" href="#" data-type="instock">В наличии</a></li>
					<li><a class="dropdown-item" href="#" data-type="outofstock">Нет в наличии</a></li>
				</ul>
				<!-- Скрытое поле для хранения выбранного фильтра -->
				<input type="hidden" id="filterOperationValue" value="">
			</div>
		</div>
	</div>
</div>

<!-- Таблица с данными -->
<div class="container-fluid">
	<div class="table-responsive w-100">
		<table id="consumableTable" class="table table-striped table-hover align-middle">
			<thead class="table-light">
				<tr>
					<th>Тип</th>
					<th>Бренд</th>
					<th>Модель</th>
					<th>Местоположение</th>
					<th>Количество</th>
					<th>Ед. изм.</th>
					<th>Статус</th>
					<th>Последнее пополнение</th>
					<th class="text-center">Действия</th>
				</tr>
			</thead>
			<tbody>
				<!-- Данные загружаются динамически -->
			</tbody>
		</table>
	</div>
</div>

@await Html.PartialAsync("_AddConsumableModal.cshtml")

@section Scripts {
	<script src="~/views/consumable/index.js" asp-append-version="true"></script>
}
